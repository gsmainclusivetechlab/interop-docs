<!doctype html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width">
<meta name="generator" content="Docusaurus v2.0.0-alpha.55">
<title data-react-helmet="true">How Tests Work with Components | My Site</title><meta data-react-helmet="true" name="twitter:card" content="summary_large_image"><meta data-react-helmet="true" property="og:title" content="How Tests Work with Components | My Site"><meta data-react-helmet="true" name="description" content="This manual describes how the Test Control, Mojaloop and Simulators should be set up in order to work properly per working environment (e.g. Staging or Production) and contains examples of setups."><meta data-react-helmet="true" property="og:description" content="This manual describes how the Test Control, Mojaloop and Simulators should be set up in order to work properly per working environment (e.g. Staging or Production) and contains examples of setups."><meta data-react-helmet="true" property="og:url" content="https://gsmainclusivetechlab.github.io//interop-docs/howtestswork"><link data-react-helmet="true" rel="shortcut icon" href="/interop-docs/img/favicon.ico"><link data-react-helmet="true" rel="canonical" href="https://gsmainclusivetechlab.github.io//interop-docs/howtestswork"><link rel="stylesheet" href="/interop-docs/styles.e1331ec4.css">
<link rel="preload" href="/interop-docs/styles.d9dc4d08.js" as="script">
<link rel="preload" href="/interop-docs/runtime~main.bd20205a.js" as="script">
<link rel="preload" href="/interop-docs/main.1481bf19.js" as="script">
<link rel="preload" href="/interop-docs/1.4329ee39.js" as="script">
<link rel="preload" href="/interop-docs/2.3ece656f.js" as="script">
<link rel="preload" href="/interop-docs/3.b514ef62.js" as="script">
<link rel="preload" href="/interop-docs/1be78505.fcbc42c9.js" as="script">
<link rel="preload" href="/interop-docs/847686e0.ef01655e.js" as="script">
<link rel="preload" href="/interop-docs/cf713d5a.e181082b.js" as="script">
</head>
<body>
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=window.matchMedia("(prefers-color-scheme: dark)"),n=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();null!==n?t(n):e.matches&&t("dark")}()</script><div id="__docusaurus">
<nav class="navbar navbar--light navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><a class="navbar__brand" href="/interop-docs/"><strong class="navbar__title">ITP - Interoperability Test Platform - Documentation</strong></a></div><div class="navbar__items navbar__items--right"><div class="react-toggle react-toggle--disabled displayOnlyInLargeViewport_1gtM"><div class="react-toggle-track"><div class="react-toggle-track-check"><span class="toggle_keGJ moon_1gwN"></span></div><div class="react-toggle-track-x"><span class="toggle_keGJ sun_3CPA"></span></div></div><div class="react-toggle-thumb"></div><input type="checkbox" disabled="" aria-label="Dark mode toggle" class="react-toggle-screenreader-only"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div><div class="navbar-sidebar"><div class="navbar-sidebar__brand"><a class="navbar__brand" href="/interop-docs/"><strong class="navbar__title">ITP - Interoperability Test Platform - Documentation</strong></a></div><div class="navbar-sidebar__items"><div class="menu"><ul class="menu__list"></ul></div></div></div></nav><div class="main-wrapper"><div class="docPage_1kjD"><div class="docSidebarContainer_1cYp"><div class="sidebar_1kLs"><div class="menu menu--responsive menu_w2sC"><button aria-label="Open Menu" aria-haspopup="true" class="button button--secondary button--sm menu__button" type="button"><svg aria-label="Menu" class="sidebarMenuIcon_2vk4" xmlns="http://www.w3.org/2000/svg" height="24" width="24" viewBox="0 0 32 32" role="img" focusable="false"><title>Menu</title><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><ul class="menu__list"><li class="menu__list-item"><a class="menu__link menu__link--sublist menu__link--active" href="#!">Get Started</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/interop-docs/intro">Introduction</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/interop-docs/quickstart">Quickstart Guide</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/interop-docs/docsguide">Documentation Guide</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/interop-docs/architecture">Architecture</a></li><li class="menu__list-item"><a aria-current="page" class="menu__link menu__link--active active" tabindex="0" href="/interop-docs/howtestswork">How Tests Work</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Installation</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/interop-docs/installitp">Interoperability Test Platform</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/interop-docs/installmmo">Mobile Money Operator</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/interop-docs/installsp">Service Provider</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/interop-docs/installmoja">Mojaloop</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Use Cases</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/interop-docs/usecases">Use Cases Guide</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/interop-docs/uclist">Use Cases List</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/interop-docs/uccreation">Creating a UC</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Test Cases</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/interop-docs/testcases">Test Cases Guide</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/interop-docs/tclist">Test Cases List</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/interop-docs/tctemplate">Test Case Template</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">User Manual</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/interop-docs/requirements">Requirements</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/interop-docs/session">Creating Sessions</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/interop-docs/tests">Running Tests</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/interop-docs/results">Validating Results</a></li></ul></li></ul></div></div></div><main class="docMainContainer_FFX1"><div class="container padding-vert--lg docItemWrapper_1cc7"><div class="row"><div class="col docItemCol_2GOA"><div class="docItemContainer_2cwg"><article><header><h1 class="docTitle_1vWb">How Tests Work with Components</h1></header><div class="markdown"><p>This manual describes how the Test Control, Mojaloop and Simulators should be set up in order to work properly per working environment (e.g. Staging or Production) and contains examples of setups.</p><p>1) How it works</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_ZqCz" id="components"></a>Components<a aria-hidden="true" tabindex="-1" class="hash-link" href="#components" title="Direct link to heading">#</a></h2><p>The platform includes four components used to test the Use Cases different paths. They are:</p><p><strong>Interoperability Test Platform</strong>: intercepts messages between Components in order to show them on Portal side (and perform tests as well)</p><p><strong>SP Simulator</strong>: represents Service Provider</p><p><strong>MMO1 simulator</strong>: represents Payee’s FSP</p><p><strong>MMO2 simulator</strong>: represents Payer’s FSP</p><p><strong>Mojaloop</strong>: interoperability platform that connects MMO1 and MMO2 so that they can perform Use Cases (business operations like transfer funds in between MMOs)</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_ZqCz" id="connections-between-components"></a>Connections between Components<a aria-hidden="true" tabindex="-1" class="hash-link" href="#connections-between-components" title="Direct link to heading">#</a></h2><p>In the real world in order to perform a Use Case the Payer’s MMO would connect directly to Mojaloop and ask to transfer funds to Payee’s MMO. However, the ITP system has to show all messages between Components to users. This goal can be reached if ITP somehow intercept messages.</p><p>Thus,
ITP should receive messages from Components
Component A need to think that it sending messages to Component B, but in the meantime, it should send message to ITP
The messages to be stored in ITP and send to Component-recipient</p><p>Possible scheme of it:
<img src="/interop-docs/img/itpconnections.png" alt="Component Scheme"></p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_ZqCz" id="component-identifiers"></a>Component identifiers<a aria-hidden="true" tabindex="-1" class="hash-link" href="#component-identifiers" title="Direct link to heading">#</a></h2><p>Apart from Test Case triggers and other options to identify the received message, the Test Control should somehow easily identify a sender and a recipient of the message. For this reason each component has its own uuid.
They are:</p><p>SP: 114511be-74e9-49d5-b93e-b4a461e01626</p><p>MMO1: e5f5e817-94d6-4a43-a7ec-f7274b6d85c2</p><p>Mojaloop: b2a85076-b748-4d93-8df1-2b39844e6d4b</p><p>MMO2: e602a859-a25f-4d37-9abe-0ac09fb734af</p><p>On having identifiers per component, the next stage for the Test Control is to define by uuids the sender and recipient of the message. Thus we should force simulators and SUTs to send uuids to Test Control. This is being done via URLs, that simulators and SUTs have inside, e.g. MMO1 communicates with SP and Mojaloo, so it should have inside URLs of both of them.</p><p>URL building specifics are a bit different for simulators and SUTs, so they will be described separately.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_ZqCz" id="simulators"></a>Simulators<a aria-hidden="true" tabindex="-1" class="hash-link" href="#simulators" title="Direct link to heading">#</a></h3><p>The simulators use traceparent as a unique id of the Test Run, so Test Control can easily identify the run, however, uuids + method (e.g. POST) + endpoint (e.g. /quotes) should help him to quickly find the step of the Test Case, rather than checking all steps one-by-one. For these reason URLs inside each simulator have the next structure:</p><p>http://{itp_url}/testing/{my_uuid}/{recipient_uuid}/simulator, where</p><p>{itp_url} is a URL of ITP,<br>
e.g. <a href="http://interop.gsmainclusivetechlab.io">http://interop.gsmainclusivetechlab.io</a>
testing is an identification for Test Control that this URL is related to Test Cases flow
{my_uuid} is uuid of this simulator
e.g. for MMO1 e5f5e817-94d6-4a43-a7ec-f7274b6d85c2
{recipient_uuid} is a uuid of simulator that I send a message to
e.g. for Mojaloop b2a85076-b748-4d93-8df1-2b39844e6d4b
simulator is an identification for Test Control that this URL is related Simulator, so it includes a traceparent and its messages can be overridden</p><p>Thus, the URL of messages that MMO1 simulator will send to Mojaloop (through Test Control) on Production server will be:</p><p><a href="http://interop.gsmainclusivetechlab.io/testing/e5f5e817-94d6-4a43-a7ec-f7274b6d85c2/b2a85076-b748-4d93-8df1-2b39844e6d4b/simulator">http://interop.gsmainclusivetechlab.io/testing/e5f5e817-94d6-4a43-a7ec-f7274b6d85c2/b2a85076-b748-4d93-8df1-2b39844e6d4b/simulator</a></p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_ZqCz" id="suts"></a>SUTs<a aria-hidden="true" tabindex="-1" class="hash-link" href="#suts" title="Direct link to heading">#</a></h3><p>The SUTs may not support traceparent, so an additional layer of identification was created. They have a unique URLs for the nearest Components per Session + Test Control perform matching by triggers (test data, like “for Test Case #1 the amount field should be equal to ‘100’”).</p><p>The URL structure for SUTs a bit differs from the simulators&#x27; one:</p><p>http://{itp_url}/testing/{session_uuid}/{my_uuid}/{recipient_uuid}/sut, where</p><p>{itp_url} is a URL of ITP,<br>
e.g. <a href="http://interop.gsmainclusivetechlab.io">http://interop.gsmainclusivetechlab.io</a>
testing is an identification for Test Control that this URL is related to Test Cases flow
{session_id} the uuid of the session, generated by Test Control
e.g. 41a2e8d5-3ce4-459b-a6eb-1a1e2988c357
{my_uuid} is uuid of this simulator
e.g. for MMO1 e5f5e817-94d6-4a43-a7ec-f7274b6d85c2
{recipient_uuid} is a uuid of simulator that I send a message to
e.g. for Mojaloop b2a85076-b748-4d93-8df1-2b39844e6d4b
sut is an identification for Test Control that this URL is related Simulator, so it includes a traceparent and its messages can be overridden</p><p>Thus, the URL of messages that MMO1 as SUT will send to Mojaloop (through Test Control) on Production server will be:</p><p><a href="http://interop.gsmainclusivetechlab.io/testing/41a2e8d5-3ce4-459b-a6eb-1a1e2988c357/e5f5e817-94d6-4a43-a7ec-f7274b6d85c2/b2a85076-b748-4d93-8df1-2b39844e6d4b/sut">http://interop.gsmainclusivetechlab.io/testing/41a2e8d5-3ce4-459b-a6eb-1a1e2988c357/e5f5e817-94d6-4a43-a7ec-f7274b6d85c2/b2a85076-b748-4d93-8df1-2b39844e6d4b/sut</a></p><p>1.3.4) Mojaloop specifics
Mojaloop should also send messages to Test Control, instead of sending them to simulators/SUTs. This is being managed via FSP callbacks inside Mojaloop. More about the initial callbacks setup you can find here. There are 2 FSPs (for MMO1 and MMO2) that need to be setup per environment (e.g. Production or Staging).</p><p>The URL structure for callbacks is a very similar to simulators’ one:</p><p>http://{itp_url}/testing/{mojaloop_uuid}/{recipient_uuid}/simulator/{path}, where</p><p>{itp_url} is a URL of ITP,<br>
e.g. <a href="http://interop.gsmainclusivetechlab.io">http://interop.gsmainclusivetechlab.io</a>
testing is an identification for Test Control that this URL is related to Test Cases flow
{mojaloop_uuid} is uuid of this simulator
e.g. b2a85076-b748-4d93-8df1-2b39844e6d4b
{recipient_uuid} is a uuid of simulator that I send a message to
e.g. for MMO1 e5f5e817-94d6-4a43-a7ec-f7274b6d85c2
simulator is an identification for Test Control that this URL is related Simulator, so it includes a traceparent and its messages can be overridden
{path} the pass that is necessary to execute exact callback</p><p>Below you can find some examples of callbacks in Mojaloop that were set for MMO1: </p><p>FSPIOP_CALLBACK_URL_TRX_REQ_SERVICE
<a href="http://interop.gsmainclusivetechlab.io/testing/b2a85076-b748-4d93-8df1-2b39844e6d4b/e5f5e817-94d6-4a43-a7ec-f7274b6d85c2/simulator">http://interop.gsmainclusivetechlab.io/testing/b2a85076-b748-4d93-8df1-2b39844e6d4b/e5f5e817-94d6-4a43-a7ec-f7274b6d85c2/simulator</a></p><p>FSPIOP_CALLBACK_URL_QUOTES
<a href="http://interop.gsmainclusivetechlab.io/testing/b2a85076-b748-4d93-8df1-2b39844e6d4b/e5f5e817-94d6-4a43-a7ec-f7274b6d85c2/simulator">http://interop.gsmainclusivetechlab.io/testing/b2a85076-b748-4d93-8df1-2b39844e6d4b/e5f5e817-94d6-4a43-a7ec-f7274b6d85c2/simulator</a></p><p>FSPIOP_CALLBACK_URL_TRANSFER_POST
<a href="http://interop.gsmainclusivetechlab.io/testing/b2a85076-b748-4d93-8df1-2b39844e6d4b/e5f5e817-94d6-4a43-a7ec-f7274b6d85c2/simulator/transfers">http://interop.gsmainclusivetechlab.io/testing/b2a85076-b748-4d93-8df1-2b39844e6d4b/e5f5e817-94d6-4a43-a7ec-f7274b6d85c2/simulator/transfers</a>  </p><p>FSPIOP_CALLBACK_URL_TRANSFER_PUT
<a href="http://interop.gsmainclusivetechlab.io/testing/b2a85076-b748-4d93-8df1-2b39844e6d4b/e5f5e817-94d6-4a43-a7ec-f7274b6d85c2/simulator/transfers/%7B%7BtransferId%7D%7D">http://interop.gsmainclusivetechlab.io/testing/b2a85076-b748-4d93-8df1-2b39844e6d4b/e5f5e817-94d6-4a43-a7ec-f7274b6d85c2/simulator/transfers/{{transferId}}</a>  </p><p>FSPIOP_CALLBACK_URL_TRANSFER_ERROR
<a href="http://interop.gsmainclusivetechlab.io/testing/b2a85076-b748-4d93-8df1-2b39844e6d4b/e5f5e817-94d6-4a43-a7ec-f7274b6d85c2/simulator/transfers/%7B%7BtransferId%7D%7D/error">http://interop.gsmainclusivetechlab.io/testing/b2a85076-b748-4d93-8df1-2b39844e6d4b/e5f5e817-94d6-4a43-a7ec-f7274b6d85c2/simulator/transfers/{{transferId}}/error</a>  </p><p>FSPIOP_CALLBACK_URL_AUTHORIZATIONS
<a href="http://interop.gsmainclusivetechlab.io/testing/b2a85076-b748-4d93-8df1-2b39844e6d4b/e5f5e817-94d6-4a43-a7ec-f7274b6d85c2/simulator">http://interop.gsmainclusivetechlab.io/testing/b2a85076-b748-4d93-8df1-2b39844e6d4b/e5f5e817-94d6-4a43-a7ec-f7274b6d85c2/simulator</a>  </p><p>FSPIOP_CALLBACK_URL_PARTICIPANT_PUT
<a href="http://interop.gsmainclusivetechlab.io/testing/b2a85076-b748-4d93-8df1-2b39844e6d4b/e5f5e817-94d6-4a43-a7ec-f7274b6d85c2/simulator/participants/%7B%7BpartyIdType%7D%7D/%7B%7BpartyIdentifier%7D%7D">http://interop.gsmainclusivetechlab.io/testing/b2a85076-b748-4d93-8df1-2b39844e6d4b/e5f5e817-94d6-4a43-a7ec-f7274b6d85c2/simulator/participants/{{partyIdType}}/{{partyIdentifier}}</a> </p><p>FSPIOP_CALLBACK_URL_PARTICIPANT_PUT_ERROR
<a href="http://interop.gsmainclusivetechlab.io/testing/b2a85076-b748-4d93-8df1-2b39844e6d4b/e5f5e817-94d6-4a43-a7ec-f7274b6d85c2/simulator/participants/%7B%7BpartyIdType%7D%7D/%7B%7BpartyIdentifier%7D%7D/error">http://interop.gsmainclusivetechlab.io/testing/b2a85076-b748-4d93-8df1-2b39844e6d4b/e5f5e817-94d6-4a43-a7ec-f7274b6d85c2/simulator/participants/{{partyIdType}}/{{partyIdentifier}}/error</a> </p></div></article><div class="margin-vert--xl"><div class="row"><div class="col"><a href="https://github.com/gsmainclusivetechlab/interop-docs/docs/howtestswork.md" target="_blank" rel="noreferrer noopener"><svg fill="currentColor" height="1.2em" width="1.2em" preserveAspectRatio="xMidYMid meet" viewBox="0 0 40 40" style="margin-right:0.3em;vertical-align:sub"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div></div></div><div class="margin-vert--lg"><nav class="pagination-nav"><div class="pagination-nav__item"><a class="pagination-nav__link" href="/interop-docs/architecture"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">« ITP Architecture</div></a></div><div class="pagination-nav__item pagination-nav__item--next"><a class="pagination-nav__link" href="/interop-docs/installitp"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Interoperability Test Platform Installation Guide »</div></a></div></nav></div></div></div><div class="col col--3"><div class="tableOfContents_TbNY"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#components" class="table-of-contents__link">Components</a></li><li><a href="#connections-between-components" class="table-of-contents__link">Connections between Components</a></li><li><a href="#component-identifiers" class="table-of-contents__link">Component identifiers</a><ul><li><a href="#simulators" class="table-of-contents__link">Simulators</a></li><li><a href="#suts" class="table-of-contents__link">SUTs</a></li></ul></li></ul></div></div></div></div></main></div></div></div>
<script src="/interop-docs/styles.d9dc4d08.js"></script>
<script src="/interop-docs/runtime~main.bd20205a.js"></script>
<script src="/interop-docs/main.1481bf19.js"></script>
<script src="/interop-docs/1.4329ee39.js"></script>
<script src="/interop-docs/2.3ece656f.js"></script>
<script src="/interop-docs/3.b514ef62.js"></script>
<script src="/interop-docs/1be78505.fcbc42c9.js"></script>
<script src="/interop-docs/847686e0.ef01655e.js"></script>
<script src="/interop-docs/cf713d5a.e181082b.js"></script>
</body>
</html>